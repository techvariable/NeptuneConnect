import{r as e,h as t,H as s}from"./p-584c1979.js";import{a as i}from"./p-18b27c92.js";import{s as l}from"./p-ca2a764d.js";import{h as o}from"./p-02c57b85.js";import"./p-112455b1.js";const a=".sc-add-role-h{display:block}";let r=class{constructor(t){e(this,t);this.isModalOpen=false}toggleModalState(){this.isModalOpen=!this.isModalOpen}async handlenewRoleSumit(e){var t;e.preventDefault();try{await i.post(this.url,{roleName:this.value});await this.refresh();l.fire({position:"center",icon:"success",text:"Added new role!",showConfirmButton:false,timer:1500});this.value="";this.toggleModalState()}catch(e){l.fire({icon:"error",title:"Oops...",text:((t=e===null||e===void 0?void 0:e.response)===null||t===void 0?void 0:t.data)||"Failed to create a new role"})}}handleChange(e){this.value=e.target.value}render(){return t(s,null,t("icon-label-submit-button",{title:"Add New Role",disabled:!o(this.parsedPermissions,{name:"permissions",permission:"write"}),clickHandler:()=>this.toggleModalState(),varient:"outlined",color:"tertiary"},"Add Role"),this.isModalOpen&&t("form",{onSubmit:e=>this.handlenewRoleSumit(e),class:"space-y-3",action:"/invite"},t("div",{class:"fixed z-10 inset-0 overflow-y-auto","aria-labelledby":"modal-title",role:"dialog","aria-modal":"true"},t("div",{class:"flex items-end justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0"},t("div",{class:"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity","aria-hidden":"true"}),t("span",{class:"hidden sm:inline-block sm:align-middle sm:h-screen","aria-hidden":"true"},"â€‹"),t("div",{class:"relative inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full"},t("div",{class:"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4"},t("div",{class:"sm:flex sm:items-start"},t("div",{class:"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-sky-100 sm:mx-0 sm:h-10 sm:w-10"},t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-6 w-6 text-sky-600",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","stroke-width":"2"},t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))),t("div",{class:"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left"},t("h3",{class:"text-lg leading-6 font-medium text-gray-900",id:"modal-title"},"Add New Role"),t("div",{class:"mt-2"},t("p",{class:"text-sm text-gray-500 mb-4"},"Are you sure you want to create new role? Enter role name."),t("input",{type:"name",name:"name",required:true,placeholder:"Role Name",class:"border w-full px-4 py-2 rounded-md text-sm",value:this.value,onInput:e=>this.handleChange(e)}))))),t("div",{class:"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse gap-4"},t("icon-label-submit-button",{title:"Confirm New Role",type:"submit",color:"tertiary",varient:"contained"},"Confirm Role"),t("icon-label-submit-button",{title:"Cancel New Role",clickHandler:()=>this.toggleModalState(),color:"secondary",varient:"outlined"},"Cancel")))))))}};r.style=a;export{r as add_role};
//# sourceMappingURL=p-70bea476.entry.js.map