{"version":3,"sources":["src/components/invitationPage/invite-component/invite-component.tsx"],"names":["InviteComponent","[object Object]","hostRef","this","errorMessage","handleSubmit","e","preventDefault","data","FormData","target","name","get","toString","password","rePassword","length","match","comparePassword","axios","post","apiurl","email","then","res","status","Swal","fire","position","icon","text","showConfirmButton","timer","window","location","assign","url","catch","err","console","log","title","h","class","onSubmit","action","method","enctype","type","placeholder","width","href"],"mappings":"+IAQaA,EAAe,MAJ5BC,YAAAC,aAWWC,KAAAC,aAAuB,GAQhCD,KAAAE,aAAeC,IACbH,KAAKC,aAAe,GACpBE,EAAEC,iBACF,MAAMC,EAAO,IAAIC,SAASH,EAAEI,QAC5BP,KAAKQ,KAAOH,EAAKI,IAAI,QAAQC,WAC7BV,KAAKW,SAAWN,EAAKI,IAAI,YAAYC,WACrCV,KAAKY,WAAaP,EAAKI,IAAI,qBAAqBC,WAEhD,GAAIV,KAAKQ,OAAS,GAAI,CACpBR,KAAKC,aAAe,qBAEtB,GAAID,KAAKW,SAASE,OAAS,EAAG,CAC5Bb,KAAKC,aAAe,iDACf,IAAKD,KAAKW,SAASG,MAAM,6BAA8B,CAC5Dd,KAAKC,aAAe,sDACf,CACL,GAAID,KAAKe,gBAAgBf,KAAKW,SAAUX,KAAKY,cAAgB,KAAM,CACjEI,EACGC,KAAKjB,KAAKkB,OAAQ,CACjBC,MAAOnB,KAAKmB,MACZX,KAAMR,KAAKQ,KACXG,SAAUX,KAAKW,WAEhBS,MAAKC,IACJ,GAAIA,EAAIC,SAAW,IAAK,CACtBC,EAAKC,KAAK,CACRC,SAAU,SACVC,KAAM,UACNC,KAAM,2BACNC,kBAAmB,MACnBC,MAAO,OAETC,OAAOC,SAASC,OAAOhC,KAAKiC,SAG/BC,OAAMC,IACLC,QAAQC,IAAIF,GACZZ,EAAKC,KAAK,CACRE,KAAM,QACNY,MAAO,UACPX,KAAM,iCAGP,CACL3B,KAAKC,aAAe,6BAlD1BH,gBAAgBa,EAAUC,GACxB,GAAID,IAAaC,EAAY,CAC3B,OAAO,KAET,OAAO,MAmDTd,SACE,OACEyC,EAAA,UAAA,CAASC,MAAM,oCACbD,EAAA,MAAA,CAAKC,MAAM,gCACTD,EAAA,MAAA,CAAKC,MAAM,yCACTD,EAAA,KAAA,CAAIC,MAAM,6DAA2D,iBACrED,EAAA,IAAA,CAAGC,MAAM,8CAA4C,0DAEvDD,EAAA,MAAA,CAAKC,MAAM,6BACTD,EAAA,OAAA,CAAME,SAAUtC,GAAKH,KAAKE,aAAaC,GAAIqC,MAAM,iBAAiBE,OAAO,SAASlC,KAAK,cAAcmC,OAAO,OAAOC,QAAQ,uBACzHL,EAAA,MAAA,CAAKC,MAAM,uBACRxC,KAAKC,cAAgB,GAAKsC,EAAA,IAAA,CAAGC,MAAM,iFAAiFxC,KAAKC,cAAoB,KAC9IsC,EAAA,MAAA,CAAKC,MAAM,eACTD,EAAA,aAAA,CAAY/B,KAAK,OAAOqC,KAAK,OAAOC,YAAY,gBAElDP,EAAA,MAAA,CAAKC,MAAM,eACTD,EAAA,aAAA,CAAY/B,KAAK,WAAWqC,KAAK,WAAWC,YAAY,oBAE1DP,EAAA,MAAA,CAAKC,MAAM,eACTD,EAAA,aAAA,CAAY/B,KAAK,oBAAoBqC,KAAK,WAAWC,YAAY,sBAEnEP,EAAA,MAAA,CAAKC,MAAM,eACTD,EAAA,eAAA,CAAcQ,MAAM,OAAOF,KAAK,aAAW,aAI7CN,EAAA,MAAA,CAAKC,MAAM,QACTD,EAAA,IAAA,CAAGC,MAAM,iBAAe,2BAEtBD,EAAA,IAAA,CAAGS,KAAMhD,KAAKiC,IAAKO,MAAM,sDAAoD","sourcesContent":["import { Component, h, State, Prop } from '@stencil/core';\nimport axios from 'axios';\nimport Swal from 'sweetalert2';\n\n@Component({\n  tag: 'invite-component',\n  scoped: true,\n})\nexport class InviteComponent {\n  @Prop() url: string;\n  @Prop() apiurl: string;\n  @Prop() email: string;\n  @State() name: string;\n  @State() password: string;\n  @State() rePassword: string;\n  @State() errorMessage: string = '';\n\n  comparePassword(password, rePassword) {\n    if (password === rePassword) {\n      return true;\n    }\n    return false;\n  }\n  handleSubmit = e => {\n    this.errorMessage = '';\n    e.preventDefault();\n    const data = new FormData(e.target);\n    this.name = data.get('name').toString();\n    this.password = data.get('password').toString();\n    this.rePassword = data.get('confirmedPassword').toString();\n\n    if (this.name === '') {\n      this.errorMessage = 'User name is empty';\n    }\n    if (this.password.length < 7) {\n      this.errorMessage = 'Password length is less than 7 characters';\n    } else if (!this.password.match(/([!,%,&,@,#,$,^,*,?,_,~])/)) {\n      this.errorMessage = 'Password does not contain any special character';\n    } else {\n      if (this.comparePassword(this.password, this.rePassword) === true) {\n        axios\n          .post(this.apiurl, {\n            email: this.email,\n            name: this.name,\n            password: this.password,\n          })\n          .then(res => {\n            if (res.status === 200) {\n              Swal.fire({\n                position: 'center',\n                icon: 'success',\n                text: 'User added successfully!',\n                showConfirmButton: false,\n                timer: 1500,\n              });\n              window.location.assign(this.url);\n            }\n          })\n          .catch(err => {\n            console.log(err);\n            Swal.fire({\n              icon: 'error',\n              title: 'Oops...',\n              text: 'Something went wrong!',\n            });\n          });\n      } else {\n        this.errorMessage = 'Password does not match';\n      }\n    }\n  };\n\n  render() {\n    return (\n      <section class=\"text-gray-600 body-font relative\">\n        <div class=\"container px-5 py-24 mx-auto\">\n          <div class=\"flex flex-col text-center w-full mb-8\">\n            <h1 class=\"sm:text-3xl text-2xl font-medium title-font text-gray-900\">Account Setup</h1>\n            <p class=\"lg:w-2/3 mx-auto leading-relaxed text-base\">Please fill in the form below to continue signing up.</p>\n          </div>\n          <div class=\"lg:w-1/2 md:w-2/3 mx-auto\">\n            <form onSubmit={e => this.handleSubmit(e)} class=\"pt-6 space-y-3\" action=\"/users\" name=\"invite-form\" method=\"post\" enctype=\"multipart/form-data\">\n              <div class=\"flex flex-wrap -m-2\">\n                {this.errorMessage != '' ? <p class=\"px-3 py-2 bg-red-200 text-red-800 border-l-4 border-red-600 w-full -mt-4 mb-6\">{this.errorMessage}</p> : null}\n                <div class=\"w-full pt-3\">\n                  <text-field name=\"name\" type=\"text\" placeholder=\"Enter name\"></text-field>\n                </div>\n                <div class=\"pt-3 w-full\">\n                  <text-field name=\"password\" type=\"password\" placeholder=\"Enter password\"></text-field>\n                </div>\n                <div class=\"pt-3 w-full\">\n                  <text-field name=\"confirmedPassword\" type=\"password\" placeholder=\"Confirm password\"></text-field>\n                </div>\n                <div class=\"pt-3 w-full\">\n                  <plain-button width=\"full\" type=\"contained\">\n                    register\n                  </plain-button>\n                </div>\n                <div class=\"pt-8\">\n                  <p class=\"text-gray-500\">\n                    Already have an account!\n                    <a href={this.url} class=\"text-indigo-500 font-semibold ml-3 hover:underline\">\n                      Sign In\n                    </a>\n                  </p>\n                </div>\n              </div>\n            </form>\n          </div>\n        </div>\n      </section>\n    );\n  }\n}\n"]}