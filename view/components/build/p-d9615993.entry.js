import{r as e,h as a,H as l}from"./p-62aab1e1.js";import{h as t}from"./p-02c57b85.js";import{a as r}from"./p-18b27c92.js";import{s}from"./p-fae2f0ac.js";import"./p-112455b1.js";const i=".sc-navigators-component-h{display:block}.bg-gray-400.sc-navigators-component{--tw-bg-opacity:1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}";let o=class{constructor(a){e(this,a);this.parsedPermissions=[];this.selectedNavigatorStyle={true:`bg-gray-400`,false:`bg-gray-200`}}componentWillLoad(){this.parsedPermissions=JSON.parse(this.permissions)}render(){return a("div",{class:"overflow-y-auto py-4 px-3 bg-gray-100 rounded-md h-full"},a("ul",{class:"space-y-2"},JSON.parse(this.navigators).map((e=>{var l;const r={name:(l=e.pagePermission)===null||l===void 0?void 0:l.toLowerCase(),permission:"read"};return t(this.parsedPermissions,r)||r.name===undefined?a("li",null,a("a",{href:e.link,class:`flex items-center p-2 text-base font-normal text-gray-900 rounded-lg hover:bg-gray-300 ${this.selectedNavigatorStyle[`${e.selected}`]}`},a("img",{class:"h-5",src:e.svg,alt:e.name}),a("span",{class:"ml-3"},e.name))):null}))))}};o.style=i;let c=class{constructor(a){e(this,a);this.headerList=[{title:"query_text",filter:{searchable:false,sortable:true},alias:"queryText",click:{clickable:false}},{title:"query_Type",filter:{searchable:false,sortable:false},alias:"isCustomQuery",click:{clickable:false}},{title:"query_parameter",filter:{searchable:false,sortable:true},alias:"queryParameter",click:{clickable:false}},{title:"time_of_execution",filter:{searchable:false,sortable:true},alias:"timeOfExecution",click:{clickable:false}},{title:"time_taken",filter:{searchable:false,sortable:true},alias:"timeTaken",click:{clickable:false}},{title:"email",filter:{searchable:true,sortable:false},alias:"email",click:{clickable:true,url:"/users/"}},{title:"log_Files",filter:{searchable:false,sortable:false},alias:"queryResult",click:{clickable:true,icon:"https://i.stack.imgur.com/To3El.png",url:"/editor/query/logs/"}}]}async api(e,a,l,t){let i="";if(e){i+=`limit=${e}`}if(a){i+=`&offset=${(a-1)*e}`}if(l&&Object.keys(l).length!==0){const{id:e,dir:a}=l;let t=e.split("_");let r=t[0];for(let e of t){if(e!==t[0]){r+=e.charAt(0).toUpperCase()+e.slice(1)}}i+=`&sort=${r}&order=${a}`}if(t){for(let e in t){i=i+`&filter_${e}=${t[e]}`}}const o=await r.get(`${s.hostUrl}/api/editor/query/logs?${i}`);return{total:o.data.total,data:o.data}}render(){return a(l,null,a("log-table-wrapper",{api:this.api,autocompute:false,headerList:this.headerList,rowPerPage:[50,10,20,30]}))}};export{o as navigators_component,c as query_logs};
//# sourceMappingURL=p-d9615993.entry.js.map