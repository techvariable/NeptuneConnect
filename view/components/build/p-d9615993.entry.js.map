{"version":3,"sources":["src/components/common/navigators-component/navigators-component.css?tag=navigators-component&encapsulation=scoped","src/components/common/navigators-component/navigators-component.tsx","src/components/logsPage/query-logs/query-logs.tsx"],"names":["navigatorsComponentCss","NavigatorsComponent","[object Object]","hostRef","this","parsedPermissions","selectedNavigatorStyle","true","false","JSON","parse","permissions","h","class","navigators","map","item","route","name","_a","pagePermission","toLowerCase","permission","hasAccess","undefined","href","link","selected","src","svg","alt","QueryLogs","headerList","title","filter","searchable","sortable","alias","click","clickable","url","icon","limit","page","sortObj","search","filterPar","Object","keys","length","id","dir","arr","split","sortString","charAt","toUpperCase","slice","key","result","axios","get","state","hostUrl","total","data","Host","api","autocompute","rowPerPage"],"mappings":"iLAAA,MAAMA,EAAyB,gKCQlBC,EAAmB,MALhCC,YAAAC,aAQWC,KAAAC,kBAAwB,GAIjCD,KAAAE,uBAAyB,CACvBC,KAAM,cACNC,MAAO,eALTN,oBACEE,KAAKC,kBAAoBI,KAAKC,MAAMN,KAAKO,aAM3CT,SACE,OACEU,EAAA,MAAA,CAAKC,MAAO,2DACVD,EAAA,KAAA,CAAIC,MAAM,aACPJ,KAAKC,MAAMN,KAAKU,YAAYC,KAAIC,UAC/B,MAAMC,EAAyF,CAAEC,MAAMC,EAAAH,EAAKI,kBAAc,MAAAD,SAAA,OAAA,EAAAA,EAAEE,cAAeC,WAAY,QACvJ,OAAOC,EAAUnB,KAAKC,kBAAmBY,IAAUA,EAAMC,OAASM,UAChEZ,EAAA,KAAA,KACEA,EAAA,IAAA,CACEa,KAAMT,EAAKU,KACXb,MAAO,0FAA0FT,KAAKE,uBAAuB,GAAGU,EAAKW,eAErIf,EAAA,MAAA,CAAKC,MAAM,MAAMe,IAAKZ,EAAKa,IAAKC,IAAKd,EAAKE,OAC1CN,EAAA,OAAA,CAAMC,MAAM,QAAQG,EAAKE,QAG3B,0BC3BHa,EAAS,MAJtB7B,YAAAC,aAKWC,KAAA4B,WAAa,CACpB,CACEC,MAAO,aACPC,OAAQ,CACNC,WAAY,MACZC,SAAU,MAEZC,MAAO,YACPC,MAAO,CACLC,UAAW,QAGf,CACEN,MAAO,aACPC,OAAQ,CACNC,WAAY,MACZC,SAAU,OAEZC,MAAO,gBACPC,MAAO,CACLC,UAAW,QAGf,CACEN,MAAO,kBACPC,OAAQ,CACNC,WAAY,MACZC,SAAU,MAEZC,MAAO,iBACPC,MAAO,CACLC,UAAW,QAGf,CACEN,MAAO,oBACPC,OAAQ,CACNC,WAAY,MACZC,SAAU,MAEZC,MAAO,kBACPC,MAAO,CACLC,UAAW,QAGf,CACEN,MAAO,aACPC,OAAQ,CACNC,WAAY,MACZC,SAAU,MAEZC,MAAO,YACPC,MAAO,CACLC,UAAW,QAGf,CACEN,MAAO,QACPC,OAAQ,CACNC,WAAY,KACZC,SAAU,OAEZC,MAAO,QACPC,MAAO,CACLC,UAAW,KACXC,IAAK,YAGT,CACEP,MAAO,YACPC,OAAQ,CACNC,WAAY,MACZC,SAAU,OAEZC,MAAO,cACPC,MAAO,CACLC,UAAW,KACXE,KAAM,sCACND,IAAK,yBAKXtC,UAAUwC,EAAeC,EAAcC,EAAcC,GACnD,IAAIC,EAAY,GAEhB,GAAIJ,EAAO,CACTI,GAAa,SAASJ,IAGxB,GAAIC,EAAM,CACRG,GAAa,YAAYH,EAAO,GAAKD,IAGvC,GAAIE,GAAWG,OAAOC,KAAKJ,GAASK,SAAW,EAAG,CAChD,MAAMC,GAAEA,EAAEC,IAAEA,GAAQP,EACpB,IAAIQ,EAAgBF,EAAGG,MAAM,KAC7B,IAAIC,EAAaF,EAAI,GACrB,IAAK,IAAIpC,KAAQoC,EAAK,CACpB,GAAIpC,IAASoC,EAAI,GAAI,CACnBE,GAActC,EAAKuC,OAAO,GAAGC,cAAgBxC,EAAKyC,MAAM,IAG5DX,GAAa,SAASQ,WAAoBH,IAG5C,GAAIN,EAAQ,CACV,IAAK,IAAIa,KAAOb,EAAQ,CACtBC,EAAYA,EAAY,WAAWY,KAAOb,EAAOa,MAGrD,MAAMC,QAAeC,EAAMC,IAAI,GAAGC,EAAMC,iCAAiCjB,KACzE,MAAO,CACLkB,MAAOL,EAAOM,KAAKD,MACnBC,KAAMN,EAAOM,MAIjB/D,SACE,OACEU,EAACsD,EAAI,KACHtD,EAAA,oBAAA,CAAmBuD,IAAK/D,KAAK+D,IAAKC,YAAa,MAAOpC,WAAY5B,KAAK4B,WAAYqC,WAAY,CAAC,GAAI,GAAI,GAAI","sourcesContent":[":host {\n  display: block;\n}\n\n.bg-gray-400 {\n  --tw-bg-opacity: 1;\n  background-color: rgb(156 163 175 / var(--tw-bg-opacity));\n}","import { Component, h, Prop, State } from '@stencil/core';\nimport { hasAccess } from '../../../utils/utils';\n\n@Component({\n  tag: 'navigators-component',\n  styleUrl: 'navigators-component.css',\n  scoped: true,\n})\nexport class NavigatorsComponent {\n  @Prop() navigators: string;\n  @Prop() permissions: string;\n  @State() parsedPermissions: [] = [];\n  componentWillLoad() {\n    this.parsedPermissions = JSON.parse(this.permissions);\n  }\n  selectedNavigatorStyle = {\n    true: `bg-gray-400`,\n    false: `bg-gray-200`,\n  };\n  render() {\n    return (\n      <div class={'overflow-y-auto py-4 px-3 bg-gray-100 rounded-md h-full'}>\n        <ul class=\"space-y-2\">\n          {JSON.parse(this.navigators).map(item => {\n            const route: { name: string | string[]; permission: 'read' | 'write' | 'delete' | 'update' } = { name: item.pagePermission?.toLowerCase(), permission: 'read' };\n            return hasAccess(this.parsedPermissions, route) || route.name === undefined ? (\n              <li>\n                <a\n                  href={item.link}\n                  class={`flex items-center p-2 text-base font-normal text-gray-900 rounded-lg hover:bg-gray-300 ${this.selectedNavigatorStyle[`${item.selected}`]}`}\n                >\n                  <img class=\"h-5\" src={item.svg} alt={item.name} />\n                  <span class=\"ml-3\">{item.name}</span>\n                </a>\n              </li>\n            ) : null;\n          })}\n        </ul>\n      </div>\n    );\n  }\n}\n","import { Component, Host, h, State } from '@stencil/core';\nimport axios from 'axios';\nimport state from '../../editorPage/store';\n\n@Component({\n  tag: 'query-logs',\n  scoped: true,\n})\nexport class QueryLogs {\n  @State() headerList = [\n    {\n      title: 'query_text',\n      filter: {\n        searchable: false,\n        sortable: true,\n      },\n      alias: 'queryText',\n      click: {\n        clickable: false,\n      },\n    },\n    {\n      title: 'query_Type',\n      filter: {\n        searchable: false,\n        sortable: false,\n      },\n      alias: 'isCustomQuery',\n      click: {\n        clickable: false,\n      },\n    },\n    {\n      title: 'query_parameter',\n      filter: {\n        searchable: false,\n        sortable: true,\n      },\n      alias: 'queryParameter',\n      click: {\n        clickable: false,\n      },\n    },\n    {\n      title: 'time_of_execution',\n      filter: {\n        searchable: false,\n        sortable: true,\n      },\n      alias: 'timeOfExecution',\n      click: {\n        clickable: false,\n      },\n    },\n    {\n      title: 'time_taken',\n      filter: {\n        searchable: false,\n        sortable: true,\n      },\n      alias: 'timeTaken',\n      click: {\n        clickable: false,\n      },\n    },\n    {\n      title: 'email',\n      filter: {\n        searchable: true,\n        sortable: false,\n      },\n      alias: 'email',\n      click: {\n        clickable: true,\n        url: '/users/',\n      },\n    },\n    {\n      title: 'log_Files',\n      filter: {\n        searchable: false,\n        sortable: false,\n      },\n      alias: 'queryResult',\n      click: {\n        clickable: true,\n        icon: 'https://i.stack.imgur.com/To3El.png',\n        url: '/editor/query/logs/',\n      },\n    },\n  ];\n\n  async api(limit: number, page: number, sortObj: any, search: any) {\n    let filterPar = '';\n\n    if (limit) {\n      filterPar += `limit=${limit}`;\n    }\n\n    if (page) {\n      filterPar += `&offset=${(page - 1) * limit}`;\n    }\n\n    if (sortObj && Object.keys(sortObj).length !== 0) {\n      const { id, dir } = sortObj;\n      let arr: string[] = id.split('_');\n      let sortString = arr[0];\n      for (let item of arr) {\n        if (item !== arr[0]) {\n          sortString += item.charAt(0).toUpperCase() + item.slice(1);\n        }\n      }\n      filterPar += `&sort=${sortString}&order=${dir}`;\n    }\n\n    if (search) {\n      for (let key in search) {\n        filterPar = filterPar + `&filter_${key}=${search[key]}`;\n      }\n    }\n    const result = await axios.get(`${state.hostUrl}/api/editor/query/logs?${filterPar}`);\n    return {\n      total: result.data.total,\n      data: result.data,\n    };\n  }\n\n  render() {\n    return (\n      <Host>\n        <log-table-wrapper api={this.api} autocompute={false} headerList={this.headerList} rowPerPage={[50, 10, 20, 30]}></log-table-wrapper>\n      </Host>\n    );\n  }\n}\n"]}