import{h as t,r as e,H as i}from"./p-584c1979.js";var s=r;var l=r;function r(t){t=t||{};t.negativeType=t.negativeType||(t.negative==="R"?"right":"left");if(typeof t.negativeLeftSymbol!=="string"){switch(t.negativeType){case"left":t.negativeLeftSymbol="-";break;case"brackets":t.negativeLeftSymbol="(";break;default:t.negativeLeftSymbol=""}}if(typeof t.negativeRightSymbol!=="string"){switch(t.negativeType){case"right":t.negativeRightSymbol="-";break;case"brackets":t.negativeRightSymbol=")";break;default:t.negativeRightSymbol=""}}if(typeof t.negativeLeftOut!=="boolean"){t.negativeLeftOut=t.negativeOut===false?false:true}if(typeof t.negativeRightOut!=="boolean"){t.negativeRightOut=t.negativeOut===false?false:true}t.prefix=t.prefix||"";t.suffix=t.suffix||"";if(typeof t.integerSeparator!=="string"){t.integerSeparator=typeof t.separator==="string"?t.separator:","}t.decimalsSeparator=typeof t.decimalsSeparator==="string"?t.decimalsSeparator:"";t.decimal=t.decimal||".";t.padLeft=t.padLeft||-1;t.padRight=t.padRight||-1;function e(e,i){i=i||{};if(e||e===0){e=""+e}else{return""}var s=[];var l=e.charAt(0)==="-";e=e.replace(/^\-/g,"");if(!t.negativeLeftOut&&!i.noUnits){s.push(t.prefix)}if(l){s.push(t.negativeLeftSymbol)}if(t.negativeLeftOut&&!i.noUnits){s.push(t.prefix)}e=e.split(".");if(t.round!=null)d(e,t.round);if(t.truncate!=null)e[1]=h(e[1],t.truncate);if(t.padLeft>0)e[0]=a(e[0],t.padLeft);if(t.padRight>0)e[1]=c(e[1],t.padRight);if(!i.noSeparator&&e[1])e[1]=o(e[1],t.decimalsSeparator);if(!i.noSeparator&&e[0])e[0]=n(e[0],t.integerSeparator);s.push(e[0]);if(e[1]){s.push(t.decimal);s.push(e[1])}if(t.negativeRightOut&&!i.noUnits){s.push(t.suffix)}if(l){s.push(t.negativeRightSymbol)}if(!t.negativeRightOut&&!i.noUnits){s.push(t.suffix)}return s.join("")}e.negative=t.negative;e.negativeOut=t.negativeOut;e.negativeType=t.negativeType;e.negativeLeftOut=t.negativeLeftOut;e.negativeLeftSymbol=t.negativeLeftSymbol;e.negativeRightOut=t.negativeRightOut;e.negativeRightSymbol=t.negativeRightSymbol;e.prefix=t.prefix;e.suffix=t.suffix;e.separate=t.separate;e.integerSeparator=t.integerSeparator;e.decimalsSeparator=t.decimalsSeparator;e.decimal=t.decimal;e.padLeft=t.padLeft;e.padRight=t.padRight;e.truncate=t.truncate;e.round=t.round;function i(e,i){i=i||[];if(t.allowedSeparators){t.allowedSeparators.forEach((function(t){i.push(t)}))}i.push(t.integerSeparator);i.push(t.decimalsSeparator);e=e.replace(t.prefix,"");e=e.replace(t.suffix,"");var s=e;do{e=s;for(var l=0;l<i.length;l++){s=s.replace(i[l],"")}}while(s!=e);return e}e.unformat=i;return e}function n(t,e){t+="";if(!e)return t;var i=/(\d+)(\d{3})/;while(i.test(t)){t=t.replace(i,"$1"+e+"$2")}return t}function o(t,e){t+="";if(!e)return t;var i=/(\d{3})(\d+)/;while(i.test(t)){t=t.replace(i,"$1"+e+"$2")}return t}function a(t,e){t=t+"";var i=[];while(i.length+t.length<e){i.push("0")}return i.join("")+t}function c(t,e){if(t){t+=""}else{t=""}var i=[];while(i.length+t.length<e){i.push("0")}return t+i.join("")}function h(t,e){if(t){t+=""}if(t&&t.length>e){return t.substr(0,e)}else{return t}}function d(t,e){if(t[1]&&e>=0&&t[1].length>e){var i=t[1].slice(0,e);if(+t[1].substr(e,1)>=5){var s="";while(i.charAt(0)==="0"){s=s+"0";i=i.substr(1)}i=+i+1+"";i=s+i;if(i.length>e){t[0]=+t[0]+ +i.charAt(0)+"";i=i.substring(1)}}t[1]=i}return t}s.default=l;const u=".sc-data-table-h{display:block}";const f=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"inline h-4 w-4 text-indigo-600",viewBox:"0 0 20 20",fill:"currentColor"},t("path",{d:"M5 12a1 1 0 102 0V6.414l1.293 1.293a1 1 0 001.414-1.414l-3-3a1 1 0 00-1.414 0l-3 3a1 1 0 001.414 1.414L5 6.414V12zM15 8a1 1 0 10-2 0v5.586l-1.293-1.293a1 1 0 00-1.414 1.414l3 3a1 1 0 001.414 0l3-3a1 1 0 00-1.414-1.414L15 13.586V8z"}));const p=t("svg",{xmlns:"http://www.w3.org/2000/svg",class:"inline h-4 w-4 text-indigo-600",viewBox:"0 0 20 20",fill:"currentColor"},t("path",{"fill-rule":"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z","clip-rule":"evenodd"}));let v=class{constructor(t){e(this,t);this.editRow={};this.isEditing=false;this.isEditingIndex=-1;this.editingState={};this.columnNames=[];this.columns=[];this.data=[];this.processedData=[];this.showActions=false;this.showPagination=false;this.total=0;this.limit=10;this.supportedLimit=[];this.page=1;this.currentPage=this.page;this.to=this.page*this.limit;this.from=this.page*this.limit-this.limit+1;this.icons={sort:f,filter:p}}watchPropHandler(t,e){if(t!==e){const t=this.columns.map((t=>t.name));this.columnNames=t}}formatData(e,i){if(typeof e==="number"){return s({prefix:i.prefix,suffix:i.suffix,integerSeparator:i.seperator||",",decimal:i.seperator||","})(e,{noSeparator:!Boolean(i.seperator)})}if(typeof e==="string"){const s=e.length;if(i.maxChar&&s>=i.maxChar){return t("span",{title:`${i.prefix||""}${e}${i.suffix||""}`},`${i.prefix||""}${e.substring(0,i.maxChar)}...${i.suffix||""}`)}return`${i.prefix||""}${e}${i.suffix||""}`}if(e instanceof Date){if(i.type==="date")return e.toLocaleDateString();return e.toLocaleString()}const l=JSON.stringify(e);if(i.maxChar&&l.length>=i.maxChar){return t("span",{title:`${i.prefix||""}${l}${i.suffix||""}`},`${i.prefix||""}${l.substring(0,i.maxChar)}...${i.suffix||""}`)}return`${i.prefix||""}${l}${i.suffix||""}`}handleEditSave(t,e){const i=this.columns.map((e=>{if(this.editingState[`${t}-${e.id}`]){return Object.assign(Object.assign({},this.editingState[`${t}-${e.id}`]),{name:e.key})}return null})).filter((t=>t));this.onEdit(e,i);this.isEditing=false;this.isEditingIndex=-1;this.editingState={}}handleCancelEdit(){this.isEditing=false;this.isEditingIndex=-1;this.editingState={}}handleOpenEditForm(t){this.isEditing=true;this.isEditingIndex=t}handleFieldChange(t,e,i,s){const l=Object.assign({},this.editingState);if(l[`${t}-${e}`]){l[`${t}-${e}`].newValue=s}l[`${t}-${e}`]={prevValue:i,newValue:s};this.editingState=l}handlePagePrev(){this.currentPage--;this.to-=this.limit;this.from-=this.limit;this.handlePaginate()}handlePageNext(){this.currentPage++;this.to+=this.limit;this.from+=this.limit;this.handlePaginate()}handlePaginate(){this.onPaginate(this.currentPage,this.limit)}dataProcessor(t){const e=t.map((t=>{const e=Object.assign({},t);this.columns.map((t=>t.name)).forEach((i=>{if(!Object.keys(t).includes(i)){e[i]=""}}));return e}));return e}render(){var e,s;const l=(e,i)=>{var s,l,r,n,o,a;const c=this.columns[0];const h=(e=false)=>t("button",{class:"disabled:opacity-50",disabled:e,onClick:()=>this.handleOpenEditForm(i)},t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L10.582 16.07a4.5 4.5 0 01-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 011.13-1.897l8.932-8.931zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0115.75 21H5.25A2.25 2.25 0 013 18.75V8.25A2.25 2.25 0 015.25 6H10"})));const d=(s=false)=>t("button",{class:"disabled:opacity-50",disabled:s,onClick:()=>this.onDelete(i,e)}," ",t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})));const u=(s=false)=>t("button",{class:"disabled:opacity-50",disabled:s,onClick:()=>this.handleEditSave(i,e===null||e===void 0?void 0:e.id)}," ",t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9 12.75L11.25 15 15 9.75M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})));const f=(e=false)=>t("button",{class:"disabled:opacity-50",disabled:e,onClick:()=>this.handleCancelEdit()},t("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"w-6 h-6"},t("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M9.75 9.75l4.5 4.5m0-4.5l-4.5 4.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})));if(!this.showActions)return null;if(!this.isEditing)return t("td",{class:`py-3 whitespace-nowrap text-sm text-gray-900 ${(s=c.customStyle)===null||s===void 0?void 0:s.cellClass}`,style:Object.assign({cursor:"auto"},((l=c.customStyle)===null||l===void 0?void 0:l.cellStyle)||{})},h(),d());if(this.isEditingIndex===i){return t("td",{class:`py-3 whitespace-nowrap text-sm text-gray-900 ${(r=c.customStyle)===null||r===void 0?void 0:r.cellClass}`,style:Object.assign({cursor:"auto"},((n=c.customStyle)===null||n===void 0?void 0:n.cellStyle)||{})},u(),f())}return t("td",{class:`py-3 whitespace-nowrap text-sm text-gray-900 ${(o=c.customStyle)===null||o===void 0?void 0:o.cellClass}`,style:Object.assign({cursor:"auto"},((a=c.customStyle)===null||a===void 0?void 0:a.cellStyle)||{})},h(true),d(true))};const r=(e,i,s,l)=>{var r,n,o,a,c;const h=this.columns[l];if(h.isEditable&&s===this.isEditingIndex){return t("td",{class:`py-3 whitespace-nowrap text-sm text-gray-900 ${(r=h.customStyle)===null||r===void 0?void 0:r.cellClass}`,style:Object.assign({cursor:"auto"},((n=h.customStyle)===null||n===void 0?void 0:n.cellStyle)||{})},t("input",{class:`appearance-none block w-full text-gray-700 focus:border-2 py-1 rounded leading-tight focus:outline outline-gray-200 focus:bg-white focus:border-gray-400`,type:h.type,value:(((o=this.editingState[`${s}-${h.id}`])===null||o===void 0?void 0:o.newValue)||i).toString(),onChange:t=>this.handleFieldChange(s,h.id,i,t.target.value)}))}return t("td",{class:`py-3 whitespace-nowrap text-sm text-gray-900 ${(a=h.customStyle)===null||a===void 0?void 0:a.cellClass}`,style:Object.assign({cursor:h.onRowClick?"pointer":"auto"},((c=h.customStyle)===null||c===void 0?void 0:c.cellStyle)||{}),onClick:()=>h.onRowClick?h.onRowClick(h.id,e,i):null},h.customRowComponent?h.customRowComponent(i):this.formatData(i,h))};return t(i,null,t("div",{style:{overflowY:"auto"}},t("div",{style:Object.assign({overflow:"auto"},this.customStyle),class:`${this.customClass} custom-scrollbar`},t("table",{class:"table-auto h-full min-w-full divide-y divide-gray-200 relative"},t("thead",{class:"bg-gray-100 sticky top-0"},t("tr",null,this.showActions&&t("th",{scope:"col",style:Object.assign({minWidth:"120px"},((e=this.columns[0].customStyle)===null||e===void 0?void 0:e.headerStyle)||{}),class:`py-4 text-left text-xs font-medium text-gray-500 hover:text-indigo-700 tracking-wider ${(s=this.columns[0].customStyle)===null||s===void 0?void 0:s.headerClass}`},t("div",{class:"flex"},"Actions")),this.columns.map((e=>{var i,s;return t("th",{scope:"col",key:e.id,style:Object.assign({minWidth:"120px"},((i=e.customStyle)===null||i===void 0?void 0:i.headerStyle)||{}),class:`py-4 text-left text-xs font-medium text-gray-500 hover:text-indigo-700 tracking-wider ${(s=e.customStyle)===null||s===void 0?void 0:s.headerClass}`},t("div",{class:"flex"},e.customColumnComponent?e.customColumnComponent(e.name):e.name,e.isSortable&&t("button",{class:"ml-3",onClick:()=>e.onSort(e.key)},this.icons.sort),e.isFilterable&&t("button",{class:"ml-3",onClick:()=>e.onFilter(e)},this.icons.filter)))})))),t("tbody",{class:"bg-white divide-y divide-gray-200"},this.dataProcessor(this.data).map(((e,i)=>t("tr",{class:"hover:bg-gray-100 transition"},l(e,i),this.columns.map((t=>t.name)).map(((t,s)=>r(t,e[t],i,s)))))))))),this.showPagination&&t("div",{class:"bg-gray-100 flex justify-between items-center px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider"},t("p",{class:"pr-4"},"Showing ",t("strong",null,this.from)," to ",t("strong",null,this.to>=this.total?this.total:this.to)," results out of total ",t("strong",null,this.total)," results"),t("div",{style:{maxWidth:"450px"},class:"space-x-6"},t("span",null,"Rows per page"),t("select",{onChange:t=>{this.limit=t.target.value;this.currentPage=1;this.handlePaginate()},class:"form-select px-3 py-1.5 border-none text-inherit font-inherit text-gray-700 bg-transparent bg-clip-padding bg-no-repeat rounded transition ease-in-out focus:text-gray-700 focus:bg-white focus:border-blue-600 focus:outline-none"},this.supportedLimit.map((e=>t("option",{selected:this.limit==e,value:`${e}`},e))))),t("nav",{class:"flex ml-4 gap-4 items-center"},t("plain-button",{color:"gray-500",type:"text",clickHandler:()=>this.handlePagePrev(),disabledHandler:this.currentPage===1,addClass:"disabled:opacity-50"},"prev"),t("plain-button",{color:"gray-500",type:"text",clickHandler:()=>this.handlePageNext(),disabledHandler:this.to>=this.total,addClass:"disabled:opacity-50"},"next"))))}static get watchers(){return{columns:["watchPropHandler"]}}};v.style=u;export{v as data_table};
//# sourceMappingURL=p-05f58769.entry.js.map