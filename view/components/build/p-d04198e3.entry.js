import{r as e,h as l,H as t}from"./p-584c1979.js";import{h as a}from"./p-02c57b85.js";import{a as r}from"./p-18b27c92.js";import{s}from"./p-33e5251e.js";import"./p-112455b1.js";const i=".sc-navigators-component-h{display:block}.bg-gray-400.sc-navigators-component{--tw-bg-opacity:1;background-color:rgb(156 163 175 / var(--tw-bg-opacity))}";let o=class{constructor(l){e(this,l);this.parsedPermissions=[];this.selectedNavigatorStyle={true:`bg-gray-400`,false:`bg-gray-200`}}componentWillLoad(){this.parsedPermissions=JSON.parse(this.permissions)}render(){return l("div",{class:"overflow-y-auto py-4 px-3 bg-gray-100 rounded-md h-full"},l("ul",{class:"space-y-2"},JSON.parse(this.navigators).map((e=>{var t;const r={name:(t=e.pagePermission)===null||t===void 0?void 0:t.toLowerCase(),permission:"read"};return a(this.parsedPermissions,r)||r.name===undefined?l("li",null,l("a",{href:e.link,class:`flex items-center p-2 text-base font-normal text-gray-900 rounded-lg hover:bg-gray-300 ${this.selectedNavigatorStyle[`${e.selected}`]}`},l("img",{class:"h-5",src:e.svg,alt:e.name}),l("span",{class:"ml-3"},e.name))):null}))))}};o.style=i;let c=class{constructor(l){e(this,l);this.headerList=[{title:"query_text",filter:{searchable:false,sortable:true},alias:"queryText",click:{clickable:false}},{title:"query_Type",filter:{searchable:false,sortable:false},alias:"isCustomQuery",click:{clickable:false}},{title:"query_parameter",filter:{searchable:false,sortable:true},alias:"queryParameter",click:{clickable:false}},{title:"time_of_execution",filter:{searchable:false,sortable:true},alias:"timeOfExecution",click:{clickable:false}},{title:"time_taken",filter:{searchable:false,sortable:true},alias:"timeTaken",click:{clickable:false}},{title:"email",filter:{searchable:true,sortable:false},alias:"email",click:{clickable:true,url:"/users/"}},{title:"log_Files",filter:{searchable:false,sortable:false},alias:"queryResult",click:{clickable:true,icon:"https://i.stack.imgur.com/To3El.png",url:"/editor/query/logs/"}}]}async api(e,l,t,a){let i="";if(e){i+=`limit=${e}`}if(l){i+=`&offset=${(l-1)*e}`}if(t&&Object.keys(t).length!==0){const{id:e,dir:l}=t;let a=e.split("_");let r=a[0];for(let e of a){if(e!==a[0]){r+=e.charAt(0).toUpperCase()+e.slice(1)}}i+=`&sort=${r}&order=${l}`}if(a){for(let e in a){i=i+`&filter_${e}=${a[e]}`}}const o=await r.get(`${s.hostUrl}/api/editor/query/logs?${i}`);return{total:o.data.total,data:o.data}}render(){return l(t,null,l("log-table-wrapper",{api:this.api,autocompute:false,headerList:this.headerList,rowPerPage:[50,10,20,30]}))}};export{o as navigators_component,c as query_logs};
//# sourceMappingURL=p-d04198e3.entry.js.map