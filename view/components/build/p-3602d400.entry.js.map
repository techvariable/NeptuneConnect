{"version":3,"sources":["src/components/userProfilePage/permission-table/permission-table.css?tag=permission-table&encapsulation=scoped","src/components/userProfilePage/permission-table/permission-table.tsx"],"names":["permissionTableCss","PermissionTable","[object Object]","hostRef","this","table","tableBody","operations","permissions","JSON","parse","permissionstring","combinePermissions","forEach","i","property","Object","keys","map","item","push","columns","op","id","name","key","type","isSortable","isEditable","isFilterable","isDeletable","customRowComponent","value","h","class","aria-hidden","fill","viewBox","xmlns","fill-rule","d","clip-rule","customStyle","headerStyle","textTransform","headerClass","unshift","cellClass","data","k","properties","read","write","update","delete","Host","length","showActions","maxHeight"],"mappings":"sFAAA,MAAMA,EAAqB,4CCwCdC,EAAe,MAL5BC,YAAAC,aAQWC,KAAAC,MAAc,GACdD,KAAAE,UAAgB,GAEzBF,KAAAG,WAAuB,CAAC,OAAQ,QAAS,SAAU,UACnDL,oBACEE,KAAKI,YAAcC,KAAKC,MAAMN,KAAKO,kBACnCP,KAAKC,MAAQO,EAAmBR,KAAKI,aACrC,MAAMF,EAAY,GAClBF,KAAKG,WAAWM,SAAQC,IACtB,MAAMC,EAAW,GAEjBC,OAAOC,KAAKb,KAAKC,OAAOa,KAAIC,IAC1BJ,EAASK,KAAKhB,KAAKC,MAAMc,GAAML,OAEjCR,EAAUQ,GAAKC,KAEjBX,KAAKE,UAAYA,EAEnBJ,SACE,MAAMmB,EAAqBjB,KAAKG,WAAWW,KAAII,IACtC,CACLC,GAAID,EACJE,KAAMF,EACNG,IAAKH,EACLI,KAAM,SAENC,WAAY,MACZC,WAAY,MACZC,aAAc,MACdC,YAAa,MAEbC,mBAAoBC,GACXA,EACLC,EAAA,MAAA,KACEA,EAAA,MAAA,CAAKC,MAAM,8BAA6BC,cAAa,OAAOC,KAAK,eAAeC,QAAQ,YAAYC,MAAM,8BACxGL,EAAA,OAAA,CAAAM,YACY,UACVC,EAAE,qHAAoHC,YAC5G,cAKhBR,EAAA,MAAA,KACEA,EAAA,MAAA,CAAKC,MAAM,4BAA2BC,cAAa,OAAOC,KAAK,eAAeC,QAAQ,YAAYC,MAAM,8BACtGL,EAAA,OAAA,CAAAM,YACY,UACVC,EAAE,qMAAoMC,YAC5L,cAOpBC,YAAa,CACXC,YAAa,CACXC,cAAe,aAEjBC,YAAa,iBAKnBxB,EAAQyB,QAAQ,CACdvB,GAAI,aACJC,KAAM,aACNC,IAAK,aACLC,KAAM,SAENC,WAAY,MACZC,WAAY,MACZC,aAAc,MACdC,YAAa,MAEbY,YAAa,CACXC,YAAa,CACXC,cAAe,aAEjBC,YAAa,YACbE,UAAW,uGAIf,MAAMC,EAAOhC,OAAOC,KAAKb,KAAKC,OAAOa,KAAI+B,IAChC,CACLC,WAAYD,EACZE,KAAM/C,KAAKC,MAAM4C,GAAG,QACpBG,MAAOhD,KAAKC,MAAM4C,GAAG,SACrBI,OAAQjD,KAAKC,MAAM4C,GAAG,UACtBK,OAAQlD,KAAKC,MAAM4C,GAAG,cAI1B,OACEhB,EAACsB,EAAI,KACHtB,EAAA,OAAA,KACGe,EAAKQ,OAAS,EACbvB,EAAA,aAAA,CAAYwB,YAAa,MAAOpC,QAASA,EAAS2B,KAAMA,EAAMN,YAAa,CAAEgB,UAAW,WAExFzB,EAAA,KAAA,CAAIC,MAAM,mEAAiE","sourcesContent":[":host {\n  display: block;\n}\n","import { Component, Host, h, Prop, State } from '@stencil/core';\nimport { combinePermissions } from '../../../utils/utils';\n\ntype IColumn = {\n  id: number | string;\n  key: string;\n  name: string;\n  type: 'number' | 'string' | 'date' | 'datetime';\n\n  prefix?: string;\n  suffix?: string;\n  maxChar?: number;\n  decimal?: boolean;\n  decimalPlaces?: number;\n  seperator?: string;\n\n  isSortable: boolean;\n  isFilterable: boolean;\n  isEditable: boolean;\n  isDeletable: boolean;\n\n  onSort?: (key: string) => Promise<void>;\n  onFilter?: (key: string) => Promise<void>;\n  onRowClick?: (id: string | number, key: string, value: any) => Promise<void>;\n  customColumnComponent?: (name: string) => any;\n  customRowComponent?: (value: any) => any;\n\n  customStyle?: {\n    headerStyle?: { [index: string]: string | number };\n    headerClass?: string;\n    cellStyle?: { [index: string]: string | number };\n    cellClass?: string;\n  };\n};\n\n@Component({\n  tag: 'permission-table',\n  styleUrl: 'permission-table.css',\n  scoped: true,\n})\nexport class PermissionTable {\n  @Prop() permissionstring: string;\n  @State() permissions: {}[];\n  @State() table: {}[] = [];\n  @State() tableBody: {} = {};\n\n  operations: string[] = ['read', 'write', 'update', 'delete'];\n  componentWillLoad() {\n    this.permissions = JSON.parse(this.permissionstring);\n    this.table = combinePermissions(this.permissions);\n    const tableBody = {};\n    this.operations.forEach(i => {\n      const property = [];\n\n      Object.keys(this.table).map(item => {\n        property.push(this.table[item][i]);\n      });\n      tableBody[i] = property;\n    });\n    this.tableBody = tableBody;\n  }\n  render() {\n    const columns: IColumn[] = this.operations.map(op => {\n      return {\n        id: op,\n        name: op,\n        key: op,\n        type: 'string',\n\n        isSortable: false,\n        isEditable: false,\n        isFilterable: false,\n        isDeletable: false,\n\n        customRowComponent: value => {\n          return value ? (\n            <div>\n              <svg class=\"w-5 h-5 text-green-500 mx-6\" aria-hidden=\"true\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  fill-rule=\"evenodd\"\n                  d=\"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z\"\n                  clip-rule=\"evenodd\"\n                ></path>\n              </svg>\n            </div>\n          ) : (\n            <div>\n              <svg class=\"w-5 h-5 text-red-700 mx-6\" aria-hidden=\"true\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\">\n                <path\n                  fill-rule=\"evenodd\"\n                  d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\n                  clip-rule=\"evenodd\"\n                ></path>\n              </svg>\n            </div>\n          );\n        },\n\n        customStyle: {\n          headerStyle: {\n            textTransform: 'uppercase',\n          },\n          headerClass: 'px-6 py-4',\n        },\n      };\n    });\n\n    columns.unshift({\n      id: 'properties',\n      name: 'properties',\n      key: 'properties',\n      type: 'string',\n\n      isSortable: false,\n      isEditable: false,\n      isFilterable: false,\n      isDeletable: false,\n\n      customStyle: {\n        headerStyle: {\n          textTransform: 'uppercase',\n        },\n        headerClass: 'px-6 py-4',\n        cellClass: 'px-6 py-4 font-medium text-gray-900 whitespace-nowrap bg-gray-50 dark:text-white dark:bg-gray-800',\n      },\n    });\n\n    const data = Object.keys(this.table).map(k => {\n      return {\n        properties: k,\n        read: this.table[k]['read'],\n        write: this.table[k]['write'],\n        update: this.table[k]['update'],\n        delete: this.table[k]['delete'],\n      };\n    });\n\n    return (\n      <Host>\n        <slot>\n          {data.length > 0 ? (\n            <data-table showActions={false} columns={columns} data={data} customStyle={{ maxHeight: '16rem' }}></data-table>\n          ) : (\n            <h2 class=\"font-mono text-lg text-center font-bold leading-7 text-gray-400\">No Permission Data Available</h2>\n          )}\n        </slot>\n      </Host>\n    );\n  }\n}\n"]}